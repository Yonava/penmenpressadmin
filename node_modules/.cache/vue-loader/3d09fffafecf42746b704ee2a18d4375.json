{"remainingRequest":"/Users/yona/Desktop/penmenpressadmin/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/yona/Desktop/penmenpressadmin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yona/Desktop/penmenpressadmin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yona/Desktop/penmenpressadmin/src/App.vue?vue&type=template&id=7ba5bd90&scoped=true&","dependencies":[{"path":"/Users/yona/Desktop/penmenpressadmin/src/App.vue","mtime":1670453695873},{"path":"/Users/yona/Desktop/penmenpressadmin/node_modules/cache-loader/dist/cjs.js","mtime":1670453380880},{"path":"/Users/yona/Desktop/penmenpressadmin/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1670453381412},{"path":"/Users/yona/Desktop/penmenpressadmin/node_modules/cache-loader/dist/cjs.js","mtime":1670453380880},{"path":"/Users/yona/Desktop/penmenpressadmin/node_modules/vue-loader/lib/index.js","mtime":1670453381275}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICB2YXIgX3ZtID0gdGhpcwogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudAogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaAogIHJldHVybiBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImZvcm0tY29udGFpbmVyIiB9LCBbCiAgICBfYygiaDEiLCBbX3ZtLl92KCJBZG1pbiBQYW5lbCIpXSksCiAgICBfYygiaDIiLCBbX3ZtLl92KCJBcnRpY2xlcyIpXSksCiAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImNhdC1jb250YWluZXIiIH0sIFsKICAgICAgX2MoImgzIiwgW192bS5fdigiQWRkIEFydGljbGU6IildKSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0FydGljbGUudGl0bGUsCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdBcnRpY2xlLnRpdGxlIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyB0eXBlOiAidGV4dCIsIHBsYWNlaG9sZGVyOiAidGl0bGUiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBcnRpY2xlLnRpdGxlIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBcnRpY2xlLCAidGl0bGUiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0FydGljbGUucGhvdG8sCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdBcnRpY2xlLnBob3RvIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyB0eXBlOiAidGV4dCIsIHBsYWNlaG9sZGVyOiAiaW1hZ2UiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBcnRpY2xlLnBob3RvIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBcnRpY2xlLCAicGhvdG8iLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0FydGljbGUuY2F0ZWdvcnksCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdBcnRpY2xlLmNhdGVnb3J5IiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyB0eXBlOiAidGV4dCIsIHBsYWNlaG9sZGVyOiAiY2F0ZWdvcnkiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBcnRpY2xlLmNhdGVnb3J5IH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBcnRpY2xlLCAiY2F0ZWdvcnkiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoInRleHRhcmVhIiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0FydGljbGUuY29udGVudCwKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm5ld0FydGljbGUuY29udGVudCIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJjb250ZW50IiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3QXJ0aWNsZS5jb250ZW50IH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBcnRpY2xlLCAiY29udGVudCIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0pLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNTdHlsZTogeyBtYXJnaW46ICIxMHB4IiB9IH0sIFsKICAgICAgICBfdm0uX3YoIiBMaW5rIHRvIGEgUmVsZWFzZWQgSXNzdWU6ICIpLAogICAgICAgIF9jKAogICAgICAgICAgInNlbGVjdCIsCiAgICAgICAgICB7CiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgdmFsdWU6IF92bS5uZXdBcnRpY2xlLmlzc3VlSWQsCiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAibmV3QXJ0aWNsZS5pc3N1ZUlkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgICBvbjogewogICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgdmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyCiAgICAgICAgICAgICAgICAgIC5jYWxsKCRldmVudC50YXJnZXQub3B0aW9ucywgZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5zZWxlY3RlZAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICJfdmFsdWUiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWUKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgX3ZtLm5ld0FydGljbGUsCiAgICAgICAgICAgICAgICAgICJpc3N1ZUlkIiwKICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC5tdWx0aXBsZSA/ICQkc2VsZWN0ZWRWYWwgOiAkJHNlbGVjdGVkVmFsWzBdCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBfdm0uX2woX3ZtLmlzc3VlcywgZnVuY3Rpb24gKGlzc3VlKSB7CiAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAib3B0aW9uIiwKICAgICAgICAgICAgICB7IGtleTogaXNzdWUuaWQsIGRvbVByb3BzOiB7IHZhbHVlOiBpc3N1ZS5pZCB9IH0sCiAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICAgICAiICIgKwogICAgICAgICAgICAgICAgICAgIF92bS5fcyhpc3N1ZS5yZWxlYXNlTW9udGgpICsKICAgICAgICAgICAgICAgICAgICAiLyIgKwogICAgICAgICAgICAgICAgICAgIF92bS5fcyhpc3N1ZS5yZWxlYXNlRGF5KSArCiAgICAgICAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICAgICAgICBfdm0uX3MoaXNzdWUucmVsZWFzZVllYXIpICsKICAgICAgICAgICAgICAgICAgICAiICIKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgXQogICAgICAgICAgICApCiAgICAgICAgICB9KSwKICAgICAgICAgIDAKICAgICAgICApLAogICAgICBdKSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0FydGljbGUucmVsZWFzZURheSwKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm5ld0FydGljbGUucmVsZWFzZURheSIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsgdHlwZTogIm51bWJlciIsIHBsYWNlaG9sZGVyOiAicmVsZWFzZSBkYXkiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBcnRpY2xlLnJlbGVhc2VEYXkgfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0FydGljbGUsICJyZWxlYXNlRGF5IiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSksCiAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgdmFsdWU6IF92bS5uZXdBcnRpY2xlLnJlbGVhc2VNb250aCwKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm5ld0FydGljbGUucmVsZWFzZU1vbnRoIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyB0eXBlOiAibnVtYmVyIiwgcGxhY2Vob2xkZXI6ICJyZWxlYXNlIG1vbnRoIiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3QXJ0aWNsZS5yZWxlYXNlTW9udGggfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0FydGljbGUsICJyZWxlYXNlTW9udGgiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0FydGljbGUucmVsZWFzZVllYXIsCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdBcnRpY2xlLnJlbGVhc2VZZWFyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyB0eXBlOiAibnVtYmVyIiwgcGxhY2Vob2xkZXI6ICJyZWxlYXNlIHllYXIiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBcnRpY2xlLnJlbGVhc2VZZWFyIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBcnRpY2xlLCAicmVsZWFzZVllYXIiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImJ1dHRvbiIsIHsgb246IHsgY2xpY2s6IF92bS5hZGRBcnRpY2xlIH0gfSwgW192bS5fdigiYWRkIildKSwKICAgICAgX2MoImgzIiwgW192bS5fdigiRGVsZXRlIEFydGljbGU6IildKSwKICAgICAgX2MoCiAgICAgICAgImRpdiIsCiAgICAgICAgX3ZtLl9sKF92bS5hcnRpY2xlcywgZnVuY3Rpb24gKGFydGljbGUpIHsKICAgICAgICAgIHJldHVybiBfYygiZGl2IiwgeyBrZXk6IGFydGljbGUuaWQgfSwgWwogICAgICAgICAgICBfYygic3BhbiIsIFtfdm0uX3YoX3ZtLl9zKGFydGljbGUudGl0bGUpKV0pLAogICAgICAgICAgICBfYygKICAgICAgICAgICAgICAiYnV0dG9uIiwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyAibWFyZ2luLWxlZnQiOiAiMTBweCIgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kZWxldGVBcnRpY2xlKGFydGljbGUuaWQpCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgW192bS5fdigiIHggIildCiAgICAgICAgICAgICksCiAgICAgICAgICBdKQogICAgICAgIH0pLAogICAgICAgIDAKICAgICAgKSwKICAgICAgX2MoImgzIiwgW192bS5fdigiRWRpdCBBcnRpY2xlOiIpXSksCiAgICAgIF9jKAogICAgICAgICJkaXYiLAogICAgICAgIF92bS5fbChfdm0uYXJ0aWNsZXMsIGZ1bmN0aW9uIChhcnRpY2xlKSB7CiAgICAgICAgICByZXR1cm4gX2MoImRpdiIsIHsga2V5OiBhcnRpY2xlLmlkIH0sIFsKICAgICAgICAgICAgX2MoInNwYW4iLCBbX3ZtLl92KF92bS5fcyhhcnRpY2xlLnRpdGxlKSldKSwKICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgImJ1dHRvbiIsCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgIm1hcmdpbi1sZWZ0IjogIjEwcHgiIH0sCiAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZWRpdEFydGljbGUoYXJ0aWNsZSkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBbX3ZtLl92KCIgZWRpdCAiKV0KICAgICAgICAgICAgKSwKICAgICAgICAgIF0pCiAgICAgICAgfSksCiAgICAgICAgMAogICAgICApLAogICAgICBPYmplY3Qua2V5cyhfdm0uc2VsZWN0ZWRBcnRpY2xlKS5sZW5ndGgKICAgICAgICA/IF9jKAogICAgICAgICAgICAiZGl2IiwKICAgICAgICAgICAgWwogICAgICAgICAgICAgIF9jKCJoMyIsIFsKICAgICAgICAgICAgICAgIF92bS5fdigiRWRpdGluZzogIiArIF92bS5fcyhfdm0uc2VsZWN0ZWRBcnRpY2xlLnRpdGxlKSksCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgX2MoInNwYW4iLCBbCiAgICAgICAgICAgICAgICBfdm0uX3YoIiBBZGQgQXV0aG9yczogIiksCiAgICAgICAgICAgICAgICBfYygiYnV0dG9uIiwgeyBvbjogeyBjbGljazogX3ZtLmFkZEF1dGhvclRvQXJ0aWNsZSB9IH0sIFsKICAgICAgICAgICAgICAgICAgX3ZtLl92KCIrIiksCiAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICBfdm0uX2woX3ZtLmFydGljbGVBdXRob3JzLCBmdW5jdGlvbiAoYXV0aG9yLCBpbmRleCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF9jKCJkaXYiLCB7IGtleTogYXV0aG9yLmlkIH0sIFsKICAgICAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAgICAgInNlbGVjdCIsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5hcnRpY2xlQXV0aG9yc1tpbmRleF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogImFydGljbGVBdXRob3JzW2luZGV4XSIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsIGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnNlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gIl92YWx1ZSIgaW4gbyA/IG8uX3ZhbHVlIDogby52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmFydGljbGVBdXRob3JzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0Lm11bHRpcGxlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJCRzZWxlY3RlZFZhbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICQkc2VsZWN0ZWRWYWxbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5hdXRob3JzLCBmdW5jdGlvbiAoYXV0aG9yZWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICAgICAgICAgIm9wdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBhdXRob3JlZC5pZCwgZG9tUHJvcHM6IHsgdmFsdWU6IGF1dGhvcmVkLmlkIH0gfSwKICAgICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhhdXRob3JlZC5maXJzdE5hbWUpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKGF1dGhvcmVkLmxhc3ROYW1lKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIgogICAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgICAgICJidXR0b24iLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZW1vdmVBcnRpY2xlQXV0aG9yKGluZGV4KQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoIngiKV0KICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXJ0aWNsZS50aXRsZSIsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogInRleHQiLCBwbGFjZWhvbGRlcjogInRpdGxlIiB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUudGl0bGUgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLnNlbGVjdGVkQXJ0aWNsZSwgInRpdGxlIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUucGhvdG8sCiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXJ0aWNsZS5waG90byIsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogInRleHQiLCBwbGFjZWhvbGRlcjogImltYWdlIiB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUucGhvdG8gfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLnNlbGVjdGVkQXJ0aWNsZSwgInBob3RvIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXJ0aWNsZS5jYXRlZ29yeSIsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogInRleHQiLCBwbGFjZWhvbGRlcjogImNhdGVnb3J5IiB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUuY2F0ZWdvcnkgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBcnRpY2xlLAogICAgICAgICAgICAgICAgICAgICAgImNhdGVnb3J5IiwKICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBcnRpY2xlLnNjb3JlLAogICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJzZWxlY3RlZEFydGljbGUuc2NvcmUiLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6ICJudW1iZXIiLCBwbGFjZWhvbGRlcjogInNjb3JlIiB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUuc2NvcmUgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLnNlbGVjdGVkQXJ0aWNsZSwgInNjb3JlIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX2MoInRleHRhcmVhIiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUuY29udGVudCwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBcnRpY2xlLmNvbnRlbnQiLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAiY29udGVudCIgfSwKICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBcnRpY2xlLmNvbnRlbnQgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBcnRpY2xlLAogICAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljU3R5bGU6IHsgbWFyZ2luOiAiMTBweCIgfSB9LCBbCiAgICAgICAgICAgICAgICBfdm0uX3YoIiBMaW5rIHRvIGEgUmVsZWFzZWQgSXNzdWU6ICIpLAogICAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAgICJzZWxlY3QiLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBcnRpY2xlLmlzc3VlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJzZWxlY3RlZEFydGljbGUuaXNzdWVJZCIsCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJCRzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsIGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5zZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICJfdmFsdWUiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwKICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBcnRpY2xlLAogICAgICAgICAgICAgICAgICAgICAgICAgICJpc3N1ZUlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0Lm11bHRpcGxlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICQkc2VsZWN0ZWRWYWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJCRzZWxlY3RlZFZhbFswXQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0uaXNzdWVzLCBmdW5jdGlvbiAoaXNzdWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAgICAgICAib3B0aW9uIiwKICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpc3N1ZS5pZCwgZG9tUHJvcHM6IHsgdmFsdWU6IGlzc3VlLmlkIH0gfSwKICAgICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICAgICAgICAgICAgICIgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoaXNzdWUucmVsZWFzZU1vbnRoKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKGlzc3VlLnJlbGVhc2VEYXkpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoaXNzdWUucmVsZWFzZVllYXIpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgIgogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIDAKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUucmVsZWFzZURheSwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBcnRpY2xlLnJlbGVhc2VEYXkiLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6ICJudW1iZXIiLCBwbGFjZWhvbGRlcjogInJlbGVhc2UgZGF5IiB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEFydGljbGUucmVsZWFzZURheSB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZEFydGljbGUsCiAgICAgICAgICAgICAgICAgICAgICAicmVsZWFzZURheSIsCiAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkQXJ0aWNsZS5yZWxlYXNlTW9udGgsCiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXJ0aWNsZS5yZWxlYXNlTW9udGgiLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6ICJudW1iZXIiLCBwbGFjZWhvbGRlcjogInJlbGVhc2UgbW9udGgiIH0sCiAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnNlbGVjdGVkQXJ0aWNsZS5yZWxlYXNlTW9udGggfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBcnRpY2xlLAogICAgICAgICAgICAgICAgICAgICAgInJlbGVhc2VNb250aCIsCiAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkQXJ0aWNsZS5yZWxlYXNlWWVhciwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBcnRpY2xlLnJlbGVhc2VZZWFyIiwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiAibnVtYmVyIiwgcGxhY2Vob2xkZXI6ICJyZWxlYXNlIHllYXIiIH0sCiAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnNlbGVjdGVkQXJ0aWNsZS5yZWxlYXNlWWVhciB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZEFydGljbGUsCiAgICAgICAgICAgICAgICAgICAgICAicmVsZWFzZVllYXIiLAogICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX2MoImJ1dHRvbiIsIHsgb246IHsgY2xpY2s6IF92bS5zYXZlQXJ0aWNsZSB9IH0sIFsKICAgICAgICAgICAgICAgIF92bS5fdigic2F2ZSIpLAogICAgICAgICAgICAgIF0pLAogICAgICAgICAgICBdLAogICAgICAgICAgICAyCiAgICAgICAgICApCiAgICAgICAgOiBfdm0uX2UoKSwKICAgIF0pLAogICAgX2MoImgyIiwgW192bS5fdigiQXV0aG9ycyIpXSksCiAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImNhdC1jb250YWluZXIiIH0sIFsKICAgICAgX2MoImgzIiwgW192bS5fdigiQWRkIEF1dGhvcjoiKV0pLAogICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmV3QXV0aG9yLmZpcnN0TmFtZSwKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm5ld0F1dGhvci5maXJzdE5hbWUiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAiZmlyc3QgbmFtZSIsIHR5cGU6ICJ0ZXh0IiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3QXV0aG9yLmZpcnN0TmFtZSB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBfdm0uJHNldChfdm0ubmV3QXV0aG9yLCAiZmlyc3ROYW1lIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSksCiAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgdmFsdWU6IF92bS5uZXdBdXRob3IubWlkZGxlTmFtZSwKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm5ld0F1dGhvci5taWRkbGVOYW1lIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogIm1pZGRsZSBuYW1lIiwgdHlwZTogInRleHQiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBdXRob3IubWlkZGxlTmFtZSB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBfdm0uJHNldChfdm0ubmV3QXV0aG9yLCAibWlkZGxlTmFtZSIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0pLAogICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmV3QXV0aG9yLmxhc3ROYW1lLAogICAgICAgICAgICBleHByZXNzaW9uOiAibmV3QXV0aG9yLmxhc3ROYW1lIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogImxhc3QgbmFtZSIsIHR5cGU6ICJ0ZXh0IiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3QXV0aG9yLmxhc3ROYW1lIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBdXRob3IsICJsYXN0TmFtZSIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0pLAogICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmV3QXV0aG9yLnRpdGxlLAogICAgICAgICAgICBleHByZXNzaW9uOiAibmV3QXV0aG9yLnRpdGxlIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogInRpdGxlIiwgdHlwZTogInRleHQiIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBdXRob3IudGl0bGUgfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0F1dGhvciwgInRpdGxlIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSksCiAgICAgIF9jKCJ0ZXh0YXJlYSIsIHsKICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgdmFsdWU6IF92bS5uZXdBdXRob3IuYmlvLAogICAgICAgICAgICBleHByZXNzaW9uOiAibmV3QXV0aG9yLmJpbyIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJiaW8iIH0sCiAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5uZXdBdXRob3IuYmlvIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdBdXRob3IsICJiaW8iLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0F1dGhvci5waG90bywKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm5ld0F1dGhvci5waG90byIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJpbWFnZSB1cmwiLCB0eXBlOiAidGV4dCIgfSwKICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLm5ld0F1dGhvci5waG90byB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBfdm0uJHNldChfdm0ubmV3QXV0aG9yLCAicGhvdG8iLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0F1dGhvci5qb2luRGF5LAogICAgICAgICAgICBleHByZXNzaW9uOiAibmV3QXV0aG9yLmpvaW5EYXkiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAiam9pbiBkYXkiLCB0eXBlOiAibnVtYmVyIiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3QXV0aG9yLmpvaW5EYXkgfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0F1dGhvciwgImpvaW5EYXkiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0F1dGhvci5qb2luTW9udGgsCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdBdXRob3Iuam9pbk1vbnRoIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogImpvaW4gbW9udGgiLCB0eXBlOiAibnVtYmVyIiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3QXV0aG9yLmpvaW5Nb250aCB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBfdm0uJHNldChfdm0ubmV3QXV0aG9yLCAiam9pbk1vbnRoIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSksCiAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgdmFsdWU6IF92bS5uZXdBdXRob3Iuam9pblllYXIsCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdBdXRob3Iuam9pblllYXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAiam9pbiB5ZWFyIiwgdHlwZTogIm51bWJlciIgfSwKICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLm5ld0F1dGhvci5qb2luWWVhciB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBfdm0uJHNldChfdm0ubmV3QXV0aG9yLCAiam9pblllYXIiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImJ1dHRvbiIsIHsgb246IHsgY2xpY2s6IF92bS5hZGRBdXRob3IgfSB9LCBbX3ZtLl92KCJhZGQiKV0pLAogICAgICBfYygiaDMiLCBbX3ZtLl92KCJEZWxldGUgQXV0aG9yOiIpXSksCiAgICAgIF9jKAogICAgICAgICJkaXYiLAogICAgICAgIF92bS5fbChfdm0uYXV0aG9ycywgZnVuY3Rpb24gKGF1dGhvcikgewogICAgICAgICAgcmV0dXJuIF9jKCJkaXYiLCB7IGtleTogYXV0aG9yLmlkIH0sIFsKICAgICAgICAgICAgX2MoInNwYW4iLCBbCiAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhhdXRob3IuZmlyc3ROYW1lKSArICIgIiArIF92bS5fcyhhdXRob3IubGFzdE5hbWUpKSwKICAgICAgICAgICAgXSksCiAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICJidXR0b24iLAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7ICJtYXJnaW4tbGVmdCI6ICIxMHB4IiB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRlbGV0ZUF1dGhvcihhdXRob3IuaWQpCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgW192bS5fdigiIHggIildCiAgICAgICAgICAgICksCiAgICAgICAgICBdKQogICAgICAgIH0pLAogICAgICAgIDAKICAgICAgKSwKICAgICAgX2MoImgzIiwgW192bS5fdigiRWRpdCBBdXRob3I6IildKSwKICAgICAgX2MoCiAgICAgICAgImRpdiIsCiAgICAgICAgWwogICAgICAgICAgX3ZtLl9sKF92bS5hdXRob3JzLCBmdW5jdGlvbiAoYXV0aG9yKSB7CiAgICAgICAgICAgIHJldHVybiBfYygiZGl2IiwgeyBrZXk6IGF1dGhvci5pZCB9LCBbCiAgICAgICAgICAgICAgX2MoInNwYW4iLCBbCiAgICAgICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgICAgIF92bS5fcyhhdXRob3IuZmlyc3ROYW1lKSArICIgIiArIF92bS5fcyhhdXRob3IubGFzdE5hbWUpCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgImJ1dHRvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7ICJtYXJnaW4tbGVmdCI6ICIxMHB4IiB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVkaXRBdXRob3IoYXV0aG9yKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgW192bS5fdigiIGVkaXQgIildCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXSkKICAgICAgICAgIH0pLAogICAgICAgICAgT2JqZWN0LmtleXMoX3ZtLnNlbGVjdGVkQXV0aG9yKS5sZW5ndGgKICAgICAgICAgICAgPyBfYygiZGl2IiwgWwogICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXV0aG9yLmZpcnN0TmFtZSIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJmaXJzdCBuYW1lIiwgdHlwZTogInRleHQiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IuZmlyc3ROYW1lIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBdXRob3IsCiAgICAgICAgICAgICAgICAgICAgICAgICJmaXJzdE5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IubWlkZGxlTmFtZSwKICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJzZWxlY3RlZEF1dGhvci5taWRkbGVOYW1lIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogIm1pZGRsZSBuYW1lIiwgdHlwZTogInRleHQiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IubWlkZGxlTmFtZSB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkQXV0aG9yLAogICAgICAgICAgICAgICAgICAgICAgICAibWlkZGxlTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEF1dGhvci5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJzZWxlY3RlZEF1dGhvci5sYXN0TmFtZSIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJsYXN0IG5hbWUiLCB0eXBlOiAidGV4dCIgfSwKICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEF1dGhvci5sYXN0TmFtZSB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkQXV0aG9yLAogICAgICAgICAgICAgICAgICAgICAgICAibGFzdE5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBdXRob3IudGl0bGUiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAidGl0bGUiLCB0eXBlOiAidGV4dCIgfSwKICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5zZWxlY3RlZEF1dGhvci50aXRsZSB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uc2VsZWN0ZWRBdXRob3IsICJ0aXRsZSIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoInRleHRhcmVhIiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IuYmlvLAogICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXV0aG9yLmJpbyIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJiaW8iIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IuYmlvIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5zZWxlY3RlZEF1dGhvciwgImJpbyIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IucGhvdG8sCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBdXRob3IucGhvdG8iLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAiaW1hZ2UgdXJsIiwgdHlwZTogInRleHQiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3IucGhvdG8gfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLnNlbGVjdGVkQXV0aG9yLCAicGhvdG8iLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkQXV0aG9yLmpvaW5EYXksCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBdXRob3Iuam9pbkRheSIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJqb2luIGRheSIsIHR5cGU6ICJudW1iZXIiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3Iuam9pbkRheSB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkQXV0aG9yLAogICAgICAgICAgICAgICAgICAgICAgICAiam9pbkRheSIsCiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3RlZEF1dGhvci5qb2luTW9udGgsCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRBdXRob3Iuam9pbk1vbnRoIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogImpvaW4gbW9udGgiLCB0eXBlOiAibnVtYmVyIiB9LAogICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnNlbGVjdGVkQXV0aG9yLmpvaW5Nb250aCB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkQXV0aG9yLAogICAgICAgICAgICAgICAgICAgICAgICAiam9pbk1vbnRoIiwKICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkQXV0aG9yLmpvaW5ZZWFyLAogICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkQXV0aG9yLmpvaW5ZZWFyIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogImpvaW4geWVhciIsIHR5cGU6ICJudW1iZXIiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRBdXRob3Iuam9pblllYXIgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZEF1dGhvciwKICAgICAgICAgICAgICAgICAgICAgICAgImpvaW5ZZWFyIiwKICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF9jKCJidXR0b24iLCB7IG9uOiB7IGNsaWNrOiBfdm0uc2F2ZUF1dGhvciB9IH0sIFsKICAgICAgICAgICAgICAgICAgX3ZtLl92KCJzYXZlIiksCiAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICBdKQogICAgICAgICAgICA6IF92bS5fZSgpLAogICAgICAgIF0sCiAgICAgICAgMgogICAgICApLAogICAgXSksCiAgICBfYygiaDIiLCBbX3ZtLl92KCJJc3N1ZXMiKV0pLAogICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJjYXQtY29udGFpbmVyIiB9LCBbCiAgICAgIF9jKCJoMyIsIFtfdm0uX3YoIkFkZCBJc3N1ZToiKV0pLAogICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmV3SXNzdWUucGhvdG8sCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdJc3N1ZS5waG90byIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJwaG90byIsIHR5cGU6ICJ0ZXh0IiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3SXNzdWUucGhvdG8gfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0lzc3VlLCAicGhvdG8iLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImlucHV0IiwgewogICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICB2YWx1ZTogX3ZtLm5ld0lzc3VlLnJlbGVhc2VEYXksCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdJc3N1ZS5yZWxlYXNlRGF5IiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogInJlbGVhc2UgZGF5IiwgdHlwZTogIm51bWJlciIgfSwKICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLm5ld0lzc3VlLnJlbGVhc2VEYXkgfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0lzc3VlLCAicmVsZWFzZURheSIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0pLAogICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmV3SXNzdWUucmVsZWFzZU1vbnRoLAogICAgICAgICAgICBleHByZXNzaW9uOiAibmV3SXNzdWUucmVsZWFzZU1vbnRoIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogInJlbGVhc2UgbW9udGgiLCB0eXBlOiAibnVtYmVyIiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3SXNzdWUucmVsZWFzZU1vbnRoIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5uZXdJc3N1ZSwgInJlbGVhc2VNb250aCIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0pLAogICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmV3SXNzdWUucmVsZWFzZVllYXIsCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJuZXdJc3N1ZS5yZWxlYXNlWWVhciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJyZWxlYXNlIHllYXIiLCB0eXBlOiAibnVtYmVyIiB9LAogICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmV3SXNzdWUucmVsZWFzZVllYXIgfSwKICAgICAgICBvbjogewogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLm5ld0lzc3VlLCAicmVsZWFzZVllYXIiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KSwKICAgICAgX2MoImJ1dHRvbiIsIHsgb246IHsgY2xpY2s6IF92bS5hZGRJc3N1ZSB9IH0sIFtfdm0uX3YoImFkZCIpXSksCiAgICAgIF9jKCJoMyIsIFtfdm0uX3YoIkRlbGV0ZSBJc3N1ZToiKV0pLAogICAgICBfYygKICAgICAgICAiZGl2IiwKICAgICAgICBfdm0uX2woX3ZtLmlzc3VlcywgZnVuY3Rpb24gKGlzc3VlKSB7CiAgICAgICAgICByZXR1cm4gX2MoImRpdiIsIHsga2V5OiBpc3N1ZS5pZCB9LCBbCiAgICAgICAgICAgIF9jKCJzcGFuIiwgWwogICAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAgIF92bS5fcyhpc3N1ZS5yZWxlYXNlTW9udGgpICsKICAgICAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICAgICAgX3ZtLl9zKGlzc3VlLnJlbGVhc2VEYXkpICsKICAgICAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICAgICAgX3ZtLl9zKGlzc3VlLnJlbGVhc2VZZWFyKQogICAgICAgICAgICAgICksCiAgICAgICAgICAgIF0pLAogICAgICAgICAgICBfYygKICAgICAgICAgICAgICAiYnV0dG9uIiwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyAibWFyZ2luLWxlZnQiOiAiMTBweCIgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kZWxldGVJc3N1ZShpc3N1ZS5pZCkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBbX3ZtLl92KCIgeCAiKV0KICAgICAgICAgICAgKSwKICAgICAgICAgIF0pCiAgICAgICAgfSksCiAgICAgICAgMAogICAgICApLAogICAgICBfYygiaDMiLCBbX3ZtLl92KCJFZGl0IElzc3VlOiIpXSksCiAgICAgIF9jKAogICAgICAgICJkaXYiLAogICAgICAgIFsKICAgICAgICAgIF92bS5fbChfdm0uaXNzdWVzLCBmdW5jdGlvbiAoaXNzdWUpIHsKICAgICAgICAgICAgcmV0dXJuIF9jKCJkaXYiLCB7IGtleTogaXNzdWUuaWQgfSwgWwogICAgICAgICAgICAgIF9jKCJzcGFuIiwgWwogICAgICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICAgICBfdm0uX3MoaXNzdWUucmVsZWFzZU1vbnRoKSArCiAgICAgICAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICAgICAgICBfdm0uX3MoaXNzdWUucmVsZWFzZURheSkgKwogICAgICAgICAgICAgICAgICAgICIvIiArCiAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKGlzc3VlLnJlbGVhc2VZZWFyKQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICBfYygKICAgICAgICAgICAgICAgICJidXR0b24iLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyAibWFyZ2luLWxlZnQiOiAiMTBweCIgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lZGl0SXNzdWUoaXNzdWUpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbX3ZtLl92KCIgZWRpdCAiKV0KICAgICAgICAgICAgICApLAogICAgICAgICAgICBdKQogICAgICAgICAgfSksCiAgICAgICAgICBPYmplY3Qua2V5cyhfdm0uc2VsZWN0ZWRJc3N1ZSkubGVuZ3RoCiAgICAgICAgICAgID8gX2MoImRpdiIsIFsKICAgICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkSXNzdWUucGhvdG8sCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRJc3N1ZS5waG90byIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJwaG90byIsIHR5cGU6ICJ0ZXh0IiB9LAogICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnNlbGVjdGVkSXNzdWUucGhvdG8gfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLnNlbGVjdGVkSXNzdWUsICJwaG90byIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRJc3N1ZS5yZWxlYXNlRGF5LAogICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogInNlbGVjdGVkSXNzdWUucmVsZWFzZURheSIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJyZWxlYXNlIGRheSIsIHR5cGU6ICJudW1iZXIiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRJc3N1ZS5yZWxlYXNlRGF5IH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRJc3N1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgInJlbGVhc2VEYXkiLAogICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2VsZWN0ZWRJc3N1ZS5yZWxlYXNlTW9udGgsCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRJc3N1ZS5yZWxlYXNlTW9udGgiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHBsYWNlaG9sZGVyOiAicmVsZWFzZSBtb250aCIsIHR5cGU6ICJudW1iZXIiIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uc2VsZWN0ZWRJc3N1ZS5yZWxlYXNlTW9udGggfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZElzc3VlLAogICAgICAgICAgICAgICAgICAgICAgICAicmVsZWFzZU1vbnRoIiwKICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkSXNzdWUucmVsZWFzZVllYXIsCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAic2VsZWN0ZWRJc3N1ZS5yZWxlYXNlWWVhciIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6ICJyZWxlYXNlIHllYXIiLCB0eXBlOiAibnVtYmVyIiB9LAogICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnNlbGVjdGVkSXNzdWUucmVsZWFzZVllYXIgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZElzc3VlLAogICAgICAgICAgICAgICAgICAgICAgICAicmVsZWFzZVllYXIiLAogICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX2MoImJ1dHRvbiIsIHsgb246IHsgY2xpY2s6IF92bS5zYXZlSXNzdWUgfSB9LCBbCiAgICAgICAgICAgICAgICAgIF92bS5fdigic2F2ZSIpLAogICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgOiBfdm0uX2UoKSwKICAgICAgICBdLAogICAgICAgIDIKICAgICAgKSwKICAgIF0pLAogIF0pCn0KdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdCnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZQoKZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfQ=="}]}